def read_job_names(file_path):
    """ Lit un fichier JIL et retourne les noms des jobs. """
    job_names = set()
    with open(file_path, 'r') as file:
        for line in file:
            if line.startswith('insert_job'):
                job_name = line.split()[1]
                job_names.add(job_name)
    return job_names

def find_missing_jobs(jobs1, jobs2):
    """ Trouve les jobs qui sont dans jobs2 mais pas dans jobs1. """
    return jobs2 - jobs1

# Chemins vers vos fichiers JIL
jil_file_target = 'chemin/vers/target.jil'
jil_file_ref = 'chemin/vers/ref.jil'

# Lire les noms des jobs des fichiers JIL
jobs_target = read_job_names(jil_file_target)
jobs_ref = read_job_names(jil_file_ref)

# Trouver les jobs présents dans ref mais absents dans target
missing_jobs = find_missing_jobs(jobs_target, jobs_ref)

# Afficher les jobs manquants
print("Jobs présents dans ref et absents dans target:")
for job in missing_jobs:
    print(job)
